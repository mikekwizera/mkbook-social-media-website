import{f as r,o as s,r as L,C as B,i as g,j as O,h as G,c as d,w as n,b as e,g as f,l as q,t as v,v as H,a as l,e as p,u as a,F as _,p as M}from"./app-ktTZm4lV.js";import{_ as J}from"./AuthenticatedLayout-_mDoENMS.js";import C from"./TabItem-Jo_A5zat.js";import K from"./Edit-BJeEfeQL.js";import{_ as Q}from"./CreatePost-Bd37C1G-.js";import{_ as W}from"./PostList-Blv-YevP.js";import{_ as N}from"./UserListItem-B6YUi0C5.js";import X from"./TabPhotos-w4fcLZPr.js";import{_ as Y}from"./PostModal-DOhXdX-p.js";import{r as D}from"./transition-CcRS158C.js";import{r as E,a as Z,m as ee,p as te,x as j,I as se,y as F}from"./tabs-BNOirL-K.js";import"./ApplicationLogo-CyEEynhf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DeleteUserForm-sLvvcwN0.js";import"./InputLabel-CWCT_9Tx.js";import"./TextInput-BJ1RQ3E7.js";import"./UpdatePasswordForm-Bi1m8wE7.js";import"./PrimaryButton-DONOzyJS.js";import"./UpdateProfileInformationForm-BWz6eIIL.js";import"./AttachmentPreviewModal-DcEB-VJa.js";import"./BaseModal-tc47qXzZ.js";const oe=["type"],le={__name:"GrayButton",props:{type:{type:String,default:"button"}},setup(o){return(i,m)=>(s(),r("button",{type:o.type,class:"flex items-center justify-center rounded-md bg-gray-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600 relative"},[L(i.$slots,"default")],8,oe))}},re={class:"max-w-[768px] mx-auto h-full overflow-auto"},ae={class:"px-4"},ie={key:0,class:"my-2 py-2 px-3 font-medium text-sm bg-red-400 text-white"},ne={class:"group relative bg-white dark:bg-black dark:text-gray-100"},ue=["src"],ce={class:"absolute top-2 right-2"},de={key:0,class:"bg-gray-50 hover:bg-gray-100 text-gray-800 py-1 px-2 text-xs flex items-center opacity-0 group-hover:opacity-100 rounded-full"},fe={key:1,class:"flex gap-2 bg-white p-2 opacity-0 group-hover:opacity-100"},me={class:"flex"},ge={class:"flex items-center justify-center relative group/avatar -mt-[64px] ml-[48px] w-[128px] h-[128px] rounded-full"},ve=["src"],pe={key:0,class:"absolute left-0 top-0 right-0 bottom-0 bg-black/50 text-gray-200 rounded-full opacity-0 flex items-center justify-center group-hover/avatar:opacity-100"},ye={key:1,class:"absolute top-1 right-0 flex flex-col gap-2"},he={class:"flex justify-between items-center flex-1 p-4"},xe={class:"font-bold text-lg"},be={key:0},we={class:"border-t m-4 mt-0"},ke={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},_e={class:"bg-white p-4 rounded-lg w-96"},Ce={key:0},je={key:1,class:"text-center"},Fe={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center"},Se={class:"bg-white p-4 rounded-lg w-96"},$e={key:0},Ae={key:1,class:"text-center"},Xe={__name:"View",props:{errors:Object,mustVerifyEmail:{type:Boolean},status:{type:String},success:{type:String},isCurrentUserFollower:Boolean,followerCount:Number,user:{type:Object},posts:Object,followers:Array,followings:Array,photos:Array},setup(o){const i=B({avatar:null,cover:null}),m=g(!0),y=g(""),h=g(""),S=O().props.auth.user,x=g(!1),b=g(!1),w=G(()=>S&&S.id===k.user.id),k=o;function P(c){if(i.cover=c.target.files[0],i.cover){const t=new FileReader;t.onload=()=>{y.value=t.result},t.readAsDataURL(i.cover)}}function R(c){if(i.avatar=c.target.files[0],i.avatar){const t=new FileReader;t.onload=()=>{h.value=t.result},t.readAsDataURL(i.avatar)}}function $(){i.cover=null,y.value=null}function A(){i.avatar=null,h.value=null}function T(){i.post(route("profile.updateImages"),{preserveScroll:!0,onSuccess:c=>{m.value=!0,$(),setTimeout(()=>{m.value=!1},3e3)}})}function z(){i.post(route("profile.updateImages"),{preserveScroll:!0,onSuccess:c=>{m.value=!0,A(),setTimeout(()=>{m.value=!1},3e3)}})}function I(){B({follow:!k.isCurrentUserFollower}).post(route("user.follow",k.user.id),{preserveScroll:!0})}function V(){x.value=!x.value}function U(){b.value=!b.value}return(c,t)=>(s(),d(J,null,{default:n(()=>[e("div",re,[e("div",ae,[q(e("div",{class:"my-2 py-2 px-3 font-medium text-sm bg-emerald-500 text-white"},v(o.success),513),[[H,m.value&&o.success]]),o.errors.cover?(s(),r("div",ie,v(o.errors.cover),1)):f("",!0),e("div",ne,[e("img",{src:y.value||o.user.cover_url||"/img/default-cover.jpg",class:"w-full h-[200px] object-cover"},null,8,ue),e("div",ce,[y.value?(s(),r("div",fe,[e("button",{onClick:$,class:"bg-gray-150 hover:bg-gray-100 text-gray-800 py-1 px-2 text-xs flex items-center"},[l(a(D),{class:"h-3 w-3 mr-2"}),t[1]||(t[1]=p(" Cancel "))]),e("button",{onClick:T,class:"bg-green-800 hover:bg-green-900 text-gray-100 py-1 px-2 text-xs flex items-center rounded-full"},[l(a(E),{class:"h-3 w-3 mr-2"}),t[2]||(t[2]=p(" Save "))])])):(s(),r("button",de,[t[0]||(t[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 mr-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})],-1)),e("input",{type:"file",class:"absolute left-0 top-0 bottom-0 right-0 opacity-0",onChange:P},null,32)]))]),e("div",me,[e("div",ge,[e("img",{src:h.value||o.user.avatar_url||"/img/default_avatar.jpg",class:"w-full h-full object-cover rounded-full"},null,8,ve),h.value?(s(),r("div",ye,[e("button",{onClick:A,class:"w-7 h-7 flex items-center justify-center bg-red-500/80 text-white rounded-full"},[l(a(D),{class:"h-5 w-5"})]),e("button",{onClick:z,class:"w-7 h-7 flex items-center justify-center bg-emerald-500/80 text-white rounded-full"},[l(a(E),{class:"h-5 w-5"})])])):(s(),r("button",pe,[l(a(Z),{class:"w-8 h-8"}),e("input",{type:"file",class:"absolute left-0 top-0 bottom-0 right-0 opacity-0",onChange:R},null,32)]))]),e("div",he,[e("div",null,[e("h2",xe,v(o.user.name),1),e("span",{class:"text-sm cursor-pointer text-gray-500 hover:text-blue-500",onClick:V},v(o.followerCount)+" follower(s) ",1),t[3]||(t[3]=p(" Â· ")),e("span",{class:"text-sm cursor-pointer text-gray-500 hover:text-blue-500",onClick:U},v(o.followings.length)+" following ",1)]),w.value?f("",!0):(s(),r("div",be,[o.isCurrentUserFollower?(s(),d(le,{key:1,onClick:I},{default:n(()=>t[5]||(t[5]=[p(" Unfollow ")])),_:1})):(s(),d(Y,{key:0,onClick:I},{default:n(()=>t[4]||(t[4]=[p(" Follow ")])),_:1}))]))])])])]),e("div",we,[l(a(ee),null,{default:n(()=>[l(a(te),{class:"flex bg-white dark:bg-black dark:text-white"},{default:n(()=>[l(a(j),{as:"template"},{default:n(({selected:u})=>[l(C,{text:"Posts",selected:u},null,8,["selected"])]),_:1}),l(a(j),{as:"template"},{default:n(({selected:u})=>[l(C,{text:"Photos",selected:u},null,8,["selected"])]),_:1}),w.value?(s(),d(a(j),{key:0,as:"template"},{default:n(({selected:u})=>[l(C,{text:"Edit Profile",selected:u},null,8,["selected"])]),_:1})):f("",!0)]),_:1}),l(a(se),{class:"mt-2"},{default:n(()=>[l(a(F),null,{default:n(()=>[o.posts?(s(),r(_,{key:0},[l(Q),l(W,{posts:o.posts.data,class:"flex-1"},null,8,["posts"])],64)):f("",!0)]),_:1}),l(a(F),null,{default:n(()=>[l(X,{photos:o.photos},null,8,["photos"])]),_:1}),w.value?(s(),d(a(F),{key:0},{default:n(()=>[l(K,{"must-verify-email":o.mustVerifyEmail,status:o.status},null,8,["must-verify-email","status"])]),_:1})):f("",!0)]),_:1})]),_:1})]),x.value?(s(),r("div",ke,[e("div",_e,[t[6]||(t[6]=e("h2",{class:"text-lg font-bold mb-2"},"Followers",-1)),o.followers.length?(s(),r("div",Ce,[(s(!0),r(_,null,M(o.followers,u=>(s(),d(N,{key:u.id,user:u},null,8,["user"]))),128))])):(s(),r("div",je,"User does not have followers.")),e("button",{onClick:V,class:"mt-4 bg-gray-500 text-white px-4 py-2 rounded"},"Close")])])):f("",!0),b.value?(s(),r("div",Fe,[e("div",Se,[t[7]||(t[7]=e("h2",{class:"text-lg font-bold mb-2"},"Following",-1)),o.followings.length?(s(),r("div",$e,[(s(!0),r(_,null,M(o.followings,u=>(s(),d(N,{key:u.id,user:u},null,8,["user"]))),128))])):(s(),r("div",Ae,"The user is not following anybody.")),e("button",{onClick:U,class:"mt-4 bg-gray-500 text-white px-4 py-2 rounded"},"Close")])])):f("",!0)])]),_:1}))}};export{Xe as default};
